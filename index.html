<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Family Day 2025</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>ğŸ‰ Family Day 2025</h1>
    <p>Bersama Kita Bahagia | 15-17 Mac 2025</p>
    <div id="countdown" style="font-size: 1.5rem; margin-top: 10px;"></div>
  </header>

  <nav>
    <a href="#">Home</a>
    <a href="#">Aturcara</a>
    <a href="#">Bayaran</a>
    <a href="#">Kehadiran</a>
    <a href="#">Kenangan</a>
  </nav>

  <main>
    <section>
      <h2>ğŸ“Œ Info Penting</h2>
      <ul>
        <li>Lokasi: Port Dickson, Negeri Sembilan</li>
        <li>Tarikh: 15 - 17 Mac 2025</li>
        <li>Tempat penginapan: Homestay tepi pantai</li>
      </ul>
    </section>

    <section>
      <h2>ğŸ“‹ Senarai Kutipan</h2>
      <table class="kutipan-table">
        <thead>
          <tr>
            <th>Nama</th>
            <th>Jumlah (RM)</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Pak Long</td>
            <td>100</td>
            <td style="color:green; font-weight: bold;">âœ… Bayar</td>
          </tr>
          <tr>
            <td>Mak Ngah</td>
            <td>100</td>
            <td style="color:red; font-weight: bold;">âŒ Belum</td>
          </tr>
          <tr>
            <td>Hussin Jr</td>
            <td>50</td>
            <td style="color:orange; font-weight: bold;">âš ï¸ Deposit</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h2>ğŸ” Semak Status Bayaran Anda</h2>
      <p>Masukkan kata kunci khas keluarga anda untuk semak status kutipan.</p>
      <input type="password" id="accessKey" placeholder="Contoh: fam1husin" />
      <button onclick="checkPayment()">Semak</button>
    
      <div id="result" style="margin-top: 1rem; font-weight: bold;"></div>
    </section>


    <section>
      <h2>ğŸ“ Kehadiran</h2>
      <p>Sila sahkan kehadiran anda melalui <a href="https://forms.gle/your-form-link" target="_blank">borang ini</a>.</p>
    </section>
  </main>

  <footer>
    <p>Â© 2025 Family Day Team | Bendahari: Nama Anda</p>
  </footer>

<script>
  // Tarikh Family Day: 15 Mac 2025 08:00 pagi
  const countDownDate = new Date("May 1, 2025 08:00:00").getTime();

  const countdown = setInterval(function () {
    const now = new Date().getTime();
    const distance = countDownDate - now;

    if (distance < 0) {
      clearInterval(countdown);
      document.getElementById("countdown").innerHTML = "ğŸ‰ Family Day bermula!";
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor(
      (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
    );
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("countdown").innerHTML =
      `â³ Tinggal ${days} hari ${hours} jam ${minutes} minit ${seconds} saat`;
  }, 1000);
</script>


<script>
  const familyData = {
    pakcik: { nama: "Keluarga Pakcik", perlu: 200, bayar: 100 },
    pakjang: { nama: "Keluarga Pakjang", perlu: 150, bayar: 150 },
    fahmi: { nama: "Keluarga Fahmi", perlu: 120, bayar: 90 },
    hafiz: { nama: "Keluarga Hafiz", perlu: 250, bayar: 200 },
    hanis: { nama: "Keluarga Hanis", perlu: 250, bayar: 250 },
    wani: { nama: "Keluarga Kak Wani", perlu: 200, bayar: 100 },
    wan: { nama: "Keluarga Wan", perlu: 120, bayar: 0 },
    ika: { nama: "Keluarga Ika", perlu: 120, bayar: 120 },
    makteh: { nama: "Keluarga Makteh", perlu: 150, bayar: 150 },
    yana: { nama: "Keluarga Yana", perlu: 180, bayar: 180 },
    faiz: { nama: "Keluarga Faiz", perlu: 150, bayar: 50 },
    paksu: { nama: "Keluarga Paksu", perlu: 150, bayar: 150 }
  };


    async function checkPayment() {
      const key = document.getElementById("accessKey").value.toLowerCase();
      const resultDiv = document.getElementById("result");
    
      const response = await fetch(`https://script.google.com/macros/s/AKfycbw5899UUEP5g3so6vn_DkMA7s2ou2EHNd_UY0pmFYge23Ka1jdMxHsI9qWAsbBSAP6cHA/exec?key=${key}`);
      const data = await response.json();
    
      if (data.status === "error") {
        resultDiv.innerHTML = "âŒ Kata kunci tidak sah. Sila semak semula.";
        return;
      }
    
      const percent = Math.round((data.bayar / data.perlu) * 100);
      let barColor = "#f44336";
      if (percent === 100) barColor = "#4CAF50";
      else if (percent >= 50) barColor = "#FF9800";
    
      resultDiv.innerHTML = `
        <div style="font-size:1.2rem; color:#b71c1c;">ğŸ¡ <strong>${data.nama}</strong></div>
        ğŸ’° <span style="color:#f57c00;"><strong>Jumlah perlu bayar:</strong> RM${data.perlu}</span><br>
        âœ… <span style="color:#388e3c;"><strong>Sudah bayar:</strong> RM${data.bayar}</span><br>
        ğŸ§¾ <strong>Baki:</strong> RM${data.perlu - data.bayar}
        <div class="progress-container">
          <div class="progress-bar" style="width:${percent}%; background-color:${barColor};">${percent}%</div>
        </div>
      `;
    }
  
    else {
      resultDiv.innerHTML = `âŒ Kata kunci tidak sah. Sila semak semula.`;
    }
  }
</script>

</body>
</html>
